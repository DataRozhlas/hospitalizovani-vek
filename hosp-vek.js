const d = [
    [1585699200,137,76,132],
    [1585785600,126,81,144],
    [1585872000,131,93,151],
    [1585958400,124,83,158],
    [1586044800,119,92,159],
    [1586131200,126,100,168],
    [1586217600,124,108,180],
    [1586304000,129,106,187],
    [1586390400,116,110,190],
    [1586476800,112,107,186],
    [1586563200,112,105,188],
    [1586649600,108,105,189],
    [1586736000,106,104,185],
    [1586822400,106,100,180],
    [1586908800,100,97,174],
    [1586995200,97,93,173],
    [1587081600,93,88,174],
    [1587168000,90,84,165],
    [1587254400,89,86,170],
    [1587340800,96,86,167],
    [1587427200,94,85,187],
    [1587513600,90,79,174],
    [1587600000,88,79,169],
    [1587686400,87,82,161],
    [1587772800,77,82,156],
    [1587859200,77,79,154],
    [1587945600,76,80,154],
    [1588032000,75,80,151],
    [1588118400,69,71,146],
    [1588204800,66,69,138],
    [1588291200,55,65,124],
    [1588377600,56,66,111],
    [1588464000,53,66,113],
    [1588550400,55,70,111],
    [1588636800,52,66,105],
    [1588723200,51,60,98],
    [1588809600,42,58,91],
    [1588896000,37,57,91],
    [1588982400,35,53,85],
    [1589068800,34,48,85],
    [1589155200,33,48,86],
    [1589241600,26,49,82],
    [1589328000,23,48,75],
    [1589414400,25,36,67],
    [1589500800,22,33,63],
    [1589587200,22,30,60],
    [1589673600,20,30,60],
    [1589760000,23,32,60],
    [1589846400,26,28,55],
    [1589932800,21,29,51],
    [1590019200,24,30,47],
    [1590105600,25,28,45],
    [1590192000,24,23,46],
    [1590278400,25,22,47],
    [1590364800,26,22,43],
    [1590451200,28,23,41],
    [1590537600,24,22,40],
    [1590624000,21,21,31],
    [1590710400,20,19,32],
    [1590796800,17,19,36],
    [1590883200,16,18,36],
    [1590969600,18,18,37],
    [1591056000,17,18,40],
    [1591142400,16,14,35],
    [1591228800,13,13,34],
    [1591315200,13,10,37],
    [1591401600,11,12,36],
    [1591488000,13,14,34],
    [1591574400,15,14,31],
    [1591660800,15,16,32],
    [1591747200,16,17,33],
    [1591833600,16,15,34],
    [1591920000,19,16,34],
    [1592006400,17,17,33],
    [1592092800,17,17,34],
    [1592179200,17,20,40],
    [1592265600,17,19,42],
    [1592352000,21,20,43],
    [1592438400,21,20,42],
    [1592524800,21,19,42],
    [1592611200,21,18,41],
    [1592697600,19,17,38],
    [1592784000,18,18,39],
    [1592870400,17,17,42],
    [1592956800,20,17,41],
    [1593043200,19,12,36],
    [1593129600,20,8,36],
    [1593216000,18,8,35],
    [1593302400,17,11,38],
    [1593388800,18,13,38],
    [1593475200,18,14,39],
    [1593561600,21,18,36],
    [1593648000,24,17,31],
    [1593734400,24,15,32],
    [1593820800,24,14,32],
    [1593907200,28,14,31],
    [1593993600,27,14,28],
    [1594080000,35,16,26],
    [1594166400,39,18,28],
    [1594252800,36,20,17],
    [1594339200,32,18,19],
    [1594425600,28,17,19],
    [1594512000,31,17,17],
    [1594598400,33,18,20],
    [1594684800,35,17,19],
    [1594771200,42,17,21],
    [1594857600,38,18,20],
    [1594944000,36,18,20],
    [1595030400,39,16,19],
    [1595116800,37,17,20],
    [1595203200,37,16,18],
    [1595289600,39,18,21],
    [1595376000,43,20,29],
    [1595462400,40,22,29],
    [1595548800,42,23,29],
    [1595635200,38,23,31],
    [1595721600,36,23,32],
    [1595808000,40,25,44],
    [1595894400,43,25,46],
    [1595980800,40,27,49],
    [1596067200,40,26,51],
    [1596153600,37,29,48],
    [1596240000,41,28,47],
    [1596326400,40,25,44],
    [1596412800,38,26,49],
    [1596499200,41,29,45],
    [1596585600,37,32,41],
    [1596672000,37,33,35],
    [1596758400,35,38,33],
    [1596844800,35,36,33],
    [1596931200,36,38,33],
    [1597017600,40,41,32],
    [1597104000,38,40,32],
    [1597190400,38,34,29],
    [1597276800,38,34,34],
    [1597363200,38,35,40],
    [1597449600,29,33,41],
    [1597536000,29,33,39],
    [1597622400,35,39,39],
    [1597708800,31,36,36],
    [1597795200,34,34,40],
    [1597881600,35,35,46],
    [1597968000,44,32,43],
    [1598054400,50,29,45],
    [1598140800,53,30,45],
    [1598227200,49,33,47],
    [1598313600,50,30,51],
    [1598400000,49,33,54],
    [1598486400,48,40,59],
    [1598572800,55,41,59],
    [1598659200,54,38,61],
    [1598745600,55,41,57],
    [1598832000,60,45,65],
    [1598918400,63,48,66],
    [1599004800,62,54,63],
    [1599091200,70,56,67],
    [1599177600,71,61,65],
    [1599264000,78,62,67],
    [1599350400,78,68,72],
    [1599436800,93,78,83],
    [1599523200,89,79,83],
    [1599609600,87,88,89],
    [1599696000,92,89,90],
    [1599782400,100,103,103],
    [1599868800,90,90,102],
    [1599955200,100,98,106],
    [1600041600,108,110,120],
    [1600128000,116,106,146],
    [1600214400,130,111,157],
    [1600300800,166,130,196],
    [1600387200,174,139,211],
    [1600473600,162,128,217],
    [1600560000,168,137,226],
    [1600646400,194,158,259],
    [1600732800,204,167,264],
    [1600819200,236,181,291],
    [1600905600,256,199,312],
    [1600992000,270,221,334],
    [1601078400,264,217,316],
    [1601164800,285,227,311],
    [1601251200,283,236,326],
    [1601337600,321,290,387],
    [1601424000,331,316,414],
    [1601510400,356,344,463],
    [1601596800,395,354,489],
    [1601683200,364,353,490],
    [1601769600,377,386,516],
    [1601856000,442,437,607],
    [1601942400,467,472,693],
    [1602028800,494,516,772],
    [1602115200,530,553,868],
    [1602201600,586,606,951],
    [1602288000,580,611,972],
    [1602374400,601,618,995],
    [1602460800,701,735,1137],
    [1602547200,712,752,1221],
    [1602633600,782,819,1365],
    [1602720000,851,874,1476],
    [1602806400,911,921,1608],
    [1602892800,911,952,1670],
    [1602979200,966,1024,1704],
    [1603065600,1075,1162,1898],
    [1603152000,1126,1265,2042],
    [1603238400,1238,1368,2239],
    [1603324800,1286,1437,2365],
    [1603411200,1407,1513,2516],
    [1603497600,1330,1536,2490],
    [1603584000,1402,1642,2621],
    [1603670400,1549,1785,2846],
    [1603756800,1599,1888,3025],
    [1603843200,1586,1911,3069],
    [1603929600,1772,2100,3391],
    [1604016000,1828,2200,3608],
    [1604102400,1741,2087,3480],
    [1604188800,1766,2139,3539],
    [1604275200,1918,2277,3822],
    [1604361600,1908,2275,3921],
    [1604448000,1912,2263,3986],
    [1604534400,1927,2251,3963],
    [1604620800,1863,2234,3936],
    [1604707200,1673,2022,3717],
    [1604793600,1670,2052,3667],
    [1604880000,1722,2104,3841],
    [1604966400,1658,2067,3772],
    [1605052800,1595,1973,3671],
    [1605139200,1579,1914,3589],
    [1605225600,1570,1894,3515],
    [1605312000,1414,1732,3305],
    [1605398400,1396,1703,3197],
    [1605484800,1450,1791,3278],
    [1605571200,1325,1687,3068],
    [1605657600,1430,1771,3253],
    [1605744000,1376,1714,3125],
    [1605830400,1317,1658,3011],
    [1605916800,1184,1453,2707],
    [1606003200,1194,1443,2673],
    [1606089600,1287,1522,2858],
    [1606176000,1256,1478,2759],
    [1606262400,1200,1426,2662],
    [1606348800,1162,1374,2594],
    [1606435200,1092,1313,2516],
    [1606521600,990,1178,2282],
    [1606608000,1007,1199,2303],
    [1606694400,1056,1274,2479],
    [1606780800,1019,1207,2416],
    [1606867200,980,1193,2366],
    [1606953600,944,1201,2352],
    [1607040000,939,1215,2310],
    [1607126400,858,1118,2130],
    [1607212800,890,1123,2145],
    [1607299200,984,1211,2305],
    [1607385600,944,1212,2252],
    [1607472000,945,1212,2304],
    [1607558400,958,1244,2348],
    [1607644800,997,1242,2290],
    [1607731200,954,1176,2169],
    [1607817600,985,1211,2215],
    [1607904000,1082,1308,2377],
    [1607990400,1081,1287,2374],
    [1608076800,1070,1280,2360],
    [1608163200,1123,1283,2356],
    [1608249600,1134,1292,2354],
    [1608336000,1041,1225,2214],
    [1608422400,1070,1276,2231],
    [1608508800,1160,1402,2393],
    [1608595200,1144,1426,2361],
    [1608681600,1173,1431,2356],
    [1608768000,1011,1247,2046],
    [1608854400,1052,1254,2075],
    [1608940800,1090,1364,2187],
    [1609027200,1166,1474,2322],
    [1609113600,1352,1684,2683],
    [1609200000,1442,1738,2779],
    [1609286400,1518,1792,2809],
    [1609372800,1506,1801,2827],
    [1609459200,1342,1650,2649],
    [1609545600,1437,1742,2765],
    [1609632000,1537,1829,2905],
    [1609718400,1754,2113,3330],
    [1609804800,1724,2140,3514],
    [1609891200,1681,2138,3547],
    [1609977600,1712,2170,3609],
    [1610064000,1652,2087,3551],
    [1610150400,1459,1950,3303],
    [1610236800,1499,1976,3381],
    [1610323200,1666,2143,3623],
    [1610409600,1661,2118,3670],
    [1610496000,1621,2046,3617],
    [1610582400,1558,1975,3498]
];
// ts, hosp_mladsi, hosp_65, hosp_75

Highcharts.chart('hosp_vek', {
    chart: {
        spacingLeft: 0,
        spacingRight: 0,
    },
    title: {
        text: 'Podíl věkových skupin na všech hospitalizovaných'
    },
    credits: {
        text: 'Data: ÚZIS',
        href: 'https://koronavirus.mzcr.cz/prehled-dennich-reportu-a-analyz/',
    },
    yAxis: {
        title: {
            text: 'podíl hospitalizovaných (%)'
        },
        valueSuffix: ' %',
    },
    xAxis: {
        type: 'datetime',
        labels: {
            formatter: function() {
              return Highcharts.dateFormat('%m. %y', this.value);
            }
        }
    },
    tooltip: {
        shared: true,
        valueSuffix: ' %',
        valueDecimals: 1,
        dateTimeLabelFormats: {
            day: '%d. %m. %Y'
        },
    },
    plotOptions: {
        series: {
            label: {
                connectorAllowed: false
            },
        }
    },
    series: [{
        name: 'mladší 65 let',
        color: '#3182bd',
        data: d.map((r) => [r[0] * 1000, (r[1] / (r[1] + r[2] + r[3])) * 100])
    }, {
        name: '65 - 75 let',
        'color': '#feb24c',
        data: d.map((r) => [r[0] * 1000, (r[2] / (r[1] + r[2] + r[3])) * 100])
    }, {
        name: '75+ let',
        color: '#f03b20',
        data: d.map((r) => [r[0] * 1000, (r[3] / (r[1] + r[2] + r[3])) * 100])
    }],
});